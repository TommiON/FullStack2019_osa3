(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var a=n(3),i=n(11),u=n.n(i),r=n(0),o=n.n(r),l=function(e){return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:e.klikkauskasittelija},o.a.createElement("div",null,"nimi: ",o.a.createElement("input",{value:e.nimiarvo,onChange:e.nimikasittelija})),o.a.createElement("div",null,"numero: ",o.a.createElement("input",{value:e.numeroarvo,onChange:e.numerokasittelija})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))))},c=function(e){return o.a.createElement("div",null,"Rajaa n\xe4ytett\xe4vi\xe4: ",o.a.createElement("input",{value:e.arvo,onChange:e.kasittelija}))},s=function(e){return e.persons.filter(function(t){return t.name.includes(e.suodatin)}).map(function(t){return o.a.createElement("p",{key:t.name},t.name," ",t.number," ",o.a.createElement("button",{onClick:function(){return e.kasittelija(t.id)}},"poista"))})},m=n(2),f=n.n(m),d=function(){return f.a.get("/api/persons").then(function(e){return e.data})},v=function(e){return f.a.post("/api/persons",e).then(function(e){return e.data})},p=function(e){var t="/api/persons/".concat(e);return f.a.delete(t).then(function(e){return e.data})},h=function(e,t,n){var a="/api/persons/".concat(e);return console.log("nyt ollaan Axios-funktiossa"),console.log("id: ",e," nimi: ",t," uusi numero: ",n),f.a.put(a,{name:t,number:n,id:e}).then(function(e){return e.data})},k=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],i=t[1],u=Object(r.useState)(""),m=Object(a.a)(u,2),f=m[0],k=m[1],E=Object(r.useState)(""),j=Object(a.a)(E,2),b=j[0],g=j[1],O=Object(r.useState)(""),w=Object(a.a)(O,2),y=w[0],S=w[1],C=Object(r.useState)(null),P=Object(a.a)(C,2),T=P[0],x=P[1];Object(r.useEffect)(function(){d().then(function(e){return i(e)})},[]);return o.a.createElement("div",null,o.a.createElement(function(e){var t=e.viesti;return null===t?null:o.a.createElement("div",{style:{color:"green",borderStyle:"solid",background:"lightgrey",borderRadius:5,marginBottom:10,padding:10}},t)},{viesti:T}),o.a.createElement("h2",null,"Puhelinluettelo"),o.a.createElement(c,{arvo:y,kasittelija:function(e){S(e.target.value)}}),o.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),o.a.createElement(l,{klikkauskasittelija:function(e){if(e.preventDefault(),n.map(function(e){return e.name}).includes(f)){if(window.confirm("Nimi on jo luettelossa, korvataanko numero?")){var t=n.find(function(e){return e.name===f}).id;h(t,f,b).then(function(e){return i(n.map(function(t){return t.id===e.id?e:t}))}).then(x("K\xe4ytt\xe4j\xe4n ".concat(f," numero muutettu"))).then(k("")).then(g("")).catch(function(e){x("Ei onnistu, nime\xe4 ei en\xe4\xe4 ole luettelossa")}),setTimeout(function(){x(null)},3e3)}}else v({name:f,number:b}).then(function(e){return i(n.concat(e))}).then(x("".concat(f," lis\xe4tty"))).then(k("")).then(g("")),setTimeout(function(){x(null)},3e3)},nimiarvo:f,nimikasittelija:function(e){k(e.target.value)},numeroarvo:b,numerokasittelija:function(e){g(e.target.value)}}),o.a.createElement("h2",null,"Numerot"),o.a.createElement(s,{persons:n,suodatin:y,kasittelija:function(e){window.confirm("Poistetaanko henkil\xf6 luettelosta?")&&p(e).then(function(t){return i(n.filter(function(t){return t.id!==e}))}).then(x("Poistettu")),setTimeout(function(){x(null)},3e3)}}))};t.default=k;u.a.render(o.a.createElement(k,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.c57edc42.chunk.js.map